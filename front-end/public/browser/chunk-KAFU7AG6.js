import{b as s,e as p}from"./chunk-QLHD6JCL.js";import{I as l,L as c,P as a,l as i,w as n}from"./chunk-SJAJHFA5.js";var m=class o{constructor(e,t){this.http=e;this.router=t}apiUrl="http://localhost:3001/login";login(e,t){return this.http.post(this.apiUrl,{usuario:e,senha:t}).pipe(l(r=>{localStorage.setItem("token",r.token),localStorage.setItem("auth","true")}),n(r=>(console.error("Erro ao fazer login:",r),localStorage.removeItem("token"),localStorage.removeItem("auth"),i({token:""}))))}isAutenticado(){let e=localStorage.getItem("token"),t=localStorage.getItem("auth");return!!e&&t==="true"}logout(){localStorage.removeItem("token"),localStorage.removeItem("auth"),this.router.navigate(["/"])}getToken(){return localStorage.getItem("token")}static \u0275fac=function(t){return new(t||o)(a(s),a(p))};static \u0275prov=c({token:o,factory:o.\u0275fac,providedIn:"root"})};export{m as a};

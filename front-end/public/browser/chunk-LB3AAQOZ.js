import{a as R}from"./chunk-KAFU7AG6.js";import{b as F,c as I,d as N,e as T,f as V,g as q,h as W,k as j}from"./chunk-3DJVOXLW.js";import{e as L,f as k}from"./chunk-QLHD6JCL.js";import{$a as S,Da as m,Fa as w,Fb as E,Hb as O,Qa as c,Ra as e,Sa as n,Ta as P,W as p,X as f,Za as y,bb as _,fb as u,gb as x,ib as a,lb as v,mb as b,nb as C,ra as s,va as h,za as M}from"./chunk-SJAJHFA5.js";function A(i,t){i&1&&(e(0,"div"),a(1,"Usu\xE1rio \xE9 obrigat\xF3rio."),n())}function D(i,t){if(i&1&&(e(0,"div",17),m(1,A,2,0,"div",18),n()),i&2){_();let o=u(11);s(),c("ngIf",o.errors==null?null:o.errors.required)}}function B(i,t){i&1&&(e(0,"div"),a(1,"Senha \xE9 obrigat\xF3ria."),n())}function U(i,t){if(i&1&&(e(0,"div",17),m(1,B,2,0,"div",18),n()),i&2){_();let o=u(17);s(),c("ngIf",o.errors==null?null:o.errors.required)}}var z=class i{constructor(t,o){this.authService=t;this.router=o}fechar=new w;login={usuario:"",senha:""};autenticar(){console.log("Tentando login com:",this.login),this.authService.login(this.login.usuario,this.login.senha).subscribe({next:t=>{t&&t.token?(console.log("Login bem-sucedido! Token:",t.token),this.fechar.emit(),this.router.navigate(["/home"])):console.warn("Login falhou: Credenciais inv\xE1lidas ou token n\xE3o recebido.")},error:t=>{console.error("Erro de requisi\xE7\xE3o de login:",t)},complete:()=>{console.log("Processo de login conclu\xEDdo.")}})}fecharModal(){this.fechar.emit()}static \u0275fac=function(o){return new(o||i)(h(R),h(L))};static \u0275cmp=M({type:i,selectors:[["app-login"]],outputs:{fechar:"fechar"},decls:28,vars:8,consts:[["usuarioField","ngModel"],["senhaField","ngModel"],[1,"login-container"],[1,"login-image-section"],["src","assets/img/loginm.jpg","alt","Imagem de Login",1,"login-image"],[1,"login-form-section"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","username"],["type","text","id","username","name","usuario","required","",3,"ngModelChange","ngModel"],["class","invalid-feedback",4,"ngIf"],["for","password"],["type","password","id","password","name","senha","required","",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","login-button"],[1,"login-options"],["routerLink","/recuperar-senha"],["routerLink","/cadastro"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(o,d){if(o&1){let r=y();e(0,"div",2)(1,"div",3),P(2,"img",4),n(),e(3,"div",5)(4,"h2"),a(5,"Bem-vindo!"),n(),e(6,"form",6),S("ngSubmit",function(){return p(r),f(d.autenticar())}),e(7,"div",7)(8,"label",8),a(9,"Usu\xE1rio ou Email"),n(),e(10,"input",9,0),C("ngModelChange",function(g){return p(r),b(d.login.usuario,g)||(d.login.usuario=g),f(g)}),n(),m(12,D,2,1,"div",10),n(),e(13,"div",7)(14,"label",11),a(15,"Senha"),n(),e(16,"input",12,1),C("ngModelChange",function(g){return p(r),b(d.login.senha,g)||(d.login.senha=g),f(g)}),n(),m(18,U,2,1,"div",10),n(),e(19,"button",13),a(20,"Entrar"),n(),e(21,"div",14)(22,"a",15),a(23,"Esqueceu a senha?"),n(),e(24,"p"),a(25,"N\xE3o tem uma conta? "),e(26,"a",16),a(27,"Cadastre-se"),n()()()()()()}if(o&2){let r=u(11),l=u(17);s(10),x("is-invalid",r.invalid&&(r.dirty||r.touched)),v("ngModel",d.login.usuario),s(2),c("ngIf",r.invalid&&(r.dirty||r.touched)),s(4),x("is-invalid",l.invalid&&(l.dirty||l.touched)),v("ngModel",d.login.senha),s(2),c("ngIf",l.invalid&&(l.dirty||l.touched))}},dependencies:[O,E,j,q,F,I,N,W,V,T,k],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f4f4f4}.login-image-section[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;padding:10px}.login-image[_ngcontent-%COMP%]{max-width:92%;height:auto;border-radius:8px;box-shadow:0 2px 4px #0000001a}.login-form-section[_ngcontent-%COMP%]{flex:1;background-color:#fff;padding:40px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:440px;margin:30px}.login-form-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:30px}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.login-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#555;font-weight:700}.login-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ddd;border-radius:4px;box-sizing:border-box;font-size:1rem}.login-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 .2rem #007bff40}.login-button[_ngcontent-%COMP%]{width:100%;padding:14px;font-size:1.1rem;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s ease;background-color:#007bff;color:#fff}.login-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.login-options[_ngcontent-%COMP%]{margin-top:20px;text-align:center;color:#777;font-size:.9rem}.login-options[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.login-options[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){.login-container[_ngcontent-%COMP%]{flex-direction:column;padding:20px}.login-image-section[_ngcontent-%COMP%]{flex:none;max-width:90%;margin-bottom:30px}.login-form-section[_ngcontent-%COMP%]{flex:none;max-width:100%;margin:0 20px}}"]})};export{z as LoginComponent};

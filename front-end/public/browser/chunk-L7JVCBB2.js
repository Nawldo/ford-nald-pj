import{a as j}from"./chunk-DIXIA6OV.js";import{b as R,f as T}from"./chunk-QLHD6JCL.js";import{$a as y,Gb as q,Hb as L,Kb as N,Ma as C,Na as _,Oa as w,Pa as S,Qa as h,Ra as t,Sa as i,Ta as s,W as P,X as O,Za as D,a as p,b as M,bb as m,cb as k,db as V,eb as I,hb as A,ib as n,jb as u,kb as c,l as x,oa as g,ob as z,pb as F,qb as U,ra as l,sb as H,va as v,w as f,za as E}from"./chunk-SJAJHFA5.js";function Q(a){let o=a,e=Math.floor(Math.abs(a)),r=a.toString().replace(/^[^.]*\.?/,"").length,d=parseInt(a.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return e===Math.floor(e)&&e>=0&&e<=1?1:d===0&&e!==0&&e%1e6===0&&r===0||!(d>=0&&d<=5)?4:5}var Y=["pt",[["AM","PM"],void 0,void 0],void 0,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xE1b."],["domingo","segunda-feira","ter\xE7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xE1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xE1b."]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xE7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],void 0,[["a.C.","d.C."],void 0,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",void 0,void 0,void 0],[",",".",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4\xA0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],BYN:[void 0,"\u0440."],JPY:["JP\xA5","\xA5"],PHP:[void 0,"\u20B1"],PTE:["Esc."],RON:[void 0,"L"],SYP:[void 0,"S\xA3"],THB:["\u0E3F"],TWD:["NT$"],USD:["US$","$"]},"ltr",Q];var B=["vehicleCard"],J=(a,o)=>o.id;function G(a,o){if(a&1&&(t(0,"div",19),s(1,"img",23),t(2,"h4"),n(3),i(),t(4,"p"),n(5),i(),t(6,"p"),n(7),i(),t(8,"p"),n(9),i(),t(10,"p"),n(11,"Status: "),t(12,"span"),n(13),i()(),t(14,"p"),n(15),i(),t(16,"p"),n(17),i()()),a&2){let e=m();l(),h("src",e.selectedVehicle.img,g)("alt",e.selectedVehicle.vehicle),l(2),u(e.selectedVehicle.vehicle),l(2),c("VIN: ",e.selectedVehicle.vin),l(2),c("Od\xF4metro: ",e.selectedVehicle.odometro," km"),l(2),c("Combust\xEDvel: ",e.selectedVehicle.nivelCombustivel,"%"),l(3),A(e.selectedVehicle.status==="on"?"status-on":"status-off"),l(),u(e.selectedVehicle.status==="on"?"Ligado":"Desligado"),l(2),c("Latitude: ",e.selectedVehicle.lat),l(2),c("Longitude: ",e.selectedVehicle.long)}}function W(a,o){a&1&&(t(0,"p"),n(1,"Selecione um ve\xEDculo para ver os detalhes."),i())}function K(a,o){if(a&1&&(t(0,"div",21),n(1),i()),a&2){let e=m();l(),c(" ",e.errorMessage," ")}}function X(a,o){a&1&&(t(0,"p"),n(1,"Nenhum ve\xEDculo dispon\xEDvel no momento."),i())}function Z(a,o){if(a&1){let e=D();t(0,"div",25),y("click",function(){let d=P(e).$implicit,b=m(2);return O(b.loadVehicleDetails(d.id))}),s(1,"img",26),t(2,"h3"),n(3),i(),t(4,"p"),n(5),i(),t(6,"p"),n(7),i(),t(8,"p"),n(9),i(),t(10,"p"),n(11),i(),t(12,"p",27),n(13),F(14,"number"),i(),t(15,"a",28),n(16,"Ver Ofertas"),i()()}if(a&2){let e=o.$implicit;l(),h("src",e.img,g)("alt","Imagem do "+e.vehicle),l(2),u(e.vehicle),l(2),c("VIN: ",e.vin),l(2),c("Volume Total: ",e.volumetotal),l(2),c("Conectados: ",e.connected),l(2),c("Atualiza\xE7\xF5es de Software: ",e.softwareUpdates),l(2),c("Pre\xE7o: R$ ",U(14,9,e.price,"1.2-2","pt")),l(2),h("href","https://www.ford.com.br/compre-o-seu/busque-sua-concessionaria/",g)}}function ee(a,o){if(a&1&&(t(0,"div",22),w(1,Z,17,13,"div",24,J),i()),a&2){let e=m();l(),S(e.vehicles)}}N(Y);var $=class a{constructor(o,e){this.http=o;this.animationService=e}vehicles=[];selectedVehicle=null;errorMessage=null;vehiclesApiUrl="http://localhost:3001/vehicles";vehicleDetailsApiUrl="http://localhost:3001/vehicleData";vehicleCards;ngOnInit(){this.loadVehicles()}ngAfterViewInit(){this.vehicleCards.changes.subscribe(()=>{this.applyCardAnimations()}),this.applyCardAnimations()}applyCardAnimations(){this.vehicleCards.forEach((o,e)=>{if(!o.nativeElement.classList.contains("animate__animated")){let r=e*100;this.animationService.observeElementForAnimation(o,"animate__fadeInUp",`animate__delay-${r}ms`)}})}loadVehicles(){this.http.get(this.vehiclesApiUrl).pipe(f(o=>(this.errorMessage="Falha ao carregar ve\xEDculos. Verifique o console.",console.error("Erro ao buscar ve\xEDculos:",o),x({vehicles:[]})))).subscribe(o=>{if(o&&o.vehicles){let e=[...o.vehicles,{id:5,vehicle:"Mustang-e",volumetotal:75e3,connected:6e4,softwareUpdates:3e4,img:"http://localhost:3001/img/mustang-e.png"},{id:6,vehicle:"Maverick",volumetotal:4e4,connected:35e3,softwareUpdates:12e3,img:"http://localhost:3001/img/maverick.png"}];this.vehicles=e.map(r=>{let d={1:"2FRHDUYS2Y63NHD22454",2:"2RFAASDY54E4HDU34874",3:"2FRHDUYS2Y63NHD22455",4:"2RFAASDY54E4HDU34875",5:"2FMUEYS2Y63MUE456",6:"2FMAHDYS2Y63MAV789"},b={1:28e4,2:55e4,3:185e3,4:21e4,5:45e4,6:23e4};return M(p({},r),{vin:d[r.id]||`VIN-DESCONHECIDO-${r.id}`,price:b[r.id]||0})}),console.log("Ve\xEDculos carregados com sucesso:",this.vehicles)}else this.errorMessage="Formato de dados inesperado da API.",console.warn('Resposta da API n\xE3o cont\xE9m a propriedade "vehicles".',o)})}loadVehicleDetails(o){let e=this.vehicles.find(r=>r.id===o);e&&this.http.post(this.vehicleDetailsApiUrl,{vin:e.vin}).pipe(f(r=>(this.errorMessage=`Falha ao carregar detalhes do ve\xEDculo ${e.vehicle}.`,console.error("Erro ao buscar detalhes do ve\xEDculo:",r),this.selectedVehicle=null,x(null)))).subscribe(r=>{r&&(this.selectedVehicle=p(p({},e),r),console.log("Detalhes do ve\xEDculo carregados:",this.selectedVehicle))})}static \u0275fac=function(e){return new(e||a)(v(R),v(j))};static \u0275cmp=E({type:a,selectors:[["app-dashboard"]],viewQuery:function(e,r){if(e&1&&k(B,5),e&2){let d;V(d=I())&&(r.vehicleCards=d)}},features:[z([{provide:H,useValue:"pt-BR"}])],decls:47,vars:2,consts:[[1,"dashboard-layout"],[1,"sidebar"],[1,"sidebar-section"],["routerLink","/dashboard",1,"sidebar-link"],[1,"bi","bi-speedometer2"],["routerLink","/socioford",1,"sidebar-link"],[1,"bi","bi-people-fill"],["routerLink","/politica-privacidade",1,"sidebar-link"],[1,"bi","bi-shield-lock-fill"],["routerLink","/clube-vantagens",1,"sidebar-link"],[1,"bi","bi-award-fill"],["routerLink","/lista",1,"sidebar-link"],[1,"bi","bi-geo-alt-fill"],[1,"quick-actions"],["href","http://googleusercontent.com/play.google.com/1","target","_blank",1,"btn","btn-info","quick-action-btn"],[1,"bi","bi-cloud-download"],["href","http://googleusercontent.com/www.ford.com.br/contato","target","_blank",1,"btn","btn-success","quick-action-btn"],[1,"bi","bi-headset"],[1,"sidebar-section","vehicle-details-section"],[1,"selected-vehicle-card"],[1,"content-area"],["role","alert",1,"alert","alert-danger"],[1,"vehicle-list"],[1,"selected-vehicle-image",3,"src","alt"],[1,"vehicle-card"],[1,"vehicle-card",3,"click"],[1,"vehicle-image",3,"src","alt"],[1,"vehicle-price"],["target","_blank",1,"btn","btn-dark","mt-3",3,"href"]],template:function(e,r){e&1&&(t(0,"div",0)(1,"aside",1)(2,"div",2)(3,"h3"),n(4,"Navega\xE7\xE3o R\xE1pida"),i(),t(5,"ul")(6,"li")(7,"a",3),s(8,"i",4),n(9," Vis\xE3o Geral"),i()(),t(10,"li")(11,"a",5),s(12,"i",6),n(13," A\xE7\xF5es Sociais"),i()(),t(14,"li")(15,"a",7),s(16,"i",8),n(17," Privacidade"),i()(),t(18,"li")(19,"a",9),s(20,"i",10),n(21," Clube Ford"),i()(),t(22,"li")(23,"a",11),s(24,"i",12),n(25," Concession\xE1rias"),i()()()(),t(26,"div",2)(27,"h3"),n(28,"A\xE7\xF5es R\xE1pidas"),i(),t(29,"div",13)(30,"a",14),s(31,"i",15),n(32," App Ford"),i(),t(33,"a",16),s(34,"i",17),n(35," Suporte"),i()()(),t(36,"div",18)(37,"h3"),n(38,"Detalhes do Ve\xEDculo"),i(),C(39,G,18,11,"div",19)(40,W,2,0,"p"),i()(),t(41,"main",20)(42,"h2"),n(43,"Nossa Frota Conectada"),i(),C(44,K,2,1,"div",21)(45,X,2,0,"p")(46,ee,3,0,"div",22),i()()),e&2&&(l(39),_(r.selectedVehicle?39:40),l(5),_(r.errorMessage?44:r.vehicles.length===0?45:46))},dependencies:[L,T,q],styles:[".dashboard-layout[_ngcontent-%COMP%]{display:flex;min-height:calc(100vh - 100px);max-width:1400px;margin:20px auto;background-color:#fff;border-radius:10px;box-shadow:0 4px 10px #0000001a;overflow:hidden}.sidebar[_ngcontent-%COMP%]{width:300px;background-color:#f0f4f8;padding:30px 20px;border-right:1px solid #e0e6eb;display:flex;flex-direction:column;gap:30px;flex-shrink:0;box-shadow:2px 0 5px #0000000d}.sidebar-section[_ngcontent-%COMP%]{margin-bottom:20px;padding-bottom:20px;border-bottom:1px dashed #cfd4da}.sidebar-section[_ngcontent-%COMP%]:last-of-type{margin-bottom:0;padding-bottom:0;border-bottom:none}.sidebar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#00205b;font-size:1.6rem;margin-bottom:15px;border-bottom:2px solid #007bff;padding-bottom:8px}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.sidebar-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:10px 15px;color:#333;text-decoration:none;border-radius:5px;transition:background-color .3s ease,color .3s ease;font-weight:500}.sidebar-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;color:#007bff}.sidebar-link[_ngcontent-%COMP%]:hover{background-color:#e0e6eb;color:#00205b}.sidebar-link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#00205b}.quick-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.quick-action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px;padding:12px 15px;font-size:1rem;font-weight:700;border-radius:5px;transition:all .3s ease}.quick-action-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.vehicle-details-section[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e9ecef;border-radius:8px;padding:20px;box-shadow:0 2px 5px #0000000d;text-align:center;margin-top:20px}.selected-vehicle-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.selected-vehicle-image[_ngcontent-%COMP%]{max-width:100%;height:150px;object-fit:contain;border-radius:5px}.selected-vehicle-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#00205b;font-size:1.5rem;margin-bottom:5px}.selected-vehicle-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#555;font-size:.95rem;margin-bottom:3px}.status-on[_ngcontent-%COMP%]{color:#28a745;font-weight:700}.status-off[_ngcontent-%COMP%]{color:#dc3545;font-weight:700}.content-area[_ngcontent-%COMP%]{flex-grow:1;padding:30px;overflow-y:auto}.content-area[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#00205b;margin-bottom:40px;font-size:2.5rem;font-weight:700}.vehicle-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:25px;justify-content:center}.vehicle-card[_ngcontent-%COMP%]{background-color:#fefefe;border:1px solid #e9ecef;border-radius:10px;padding:20px;text-align:center;box-shadow:0 2px 5px #0000000d;transition:transform .3s ease,box-shadow .3s ease;cursor:pointer;display:flex;flex-direction:column;align-items:center}.vehicle-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 15px #0000001a;border-color:#007bff}.vehicle-image[_ngcontent-%COMP%]{max-width:90%;height:160px;object-fit:contain;margin-bottom:15px;border-radius:5px}.vehicle-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#007bff;font-size:1.6rem;margin-bottom:8px}.vehicle-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#555;font-size:.95rem;margin-bottom:4px}.vehicle-card[_ngcontent-%COMP%]   .vehicle-price[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#28a745;margin-top:10px}.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb;padding:15px;border-radius:5px;margin-bottom:20px;text-align:center}@media (max-width: 992px){.dashboard-layout[_ngcontent-%COMP%]{flex-direction:column;margin:10px auto;border-radius:0;box-shadow:none;min-height:unset}.sidebar[_ngcontent-%COMP%]{width:100%;border-right:none;border-bottom:1px solid #e0e6eb;padding:20px;flex-direction:row;flex-wrap:wrap;justify-content:center;gap:20px}.sidebar-section[_ngcontent-%COMP%]{border-bottom:none;padding-bottom:0;margin-bottom:0}.sidebar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:100%;text-align:center;margin-bottom:15px}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10px 15px}.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:0}.sidebar-link[_ngcontent-%COMP%]{font-size:.9rem;padding:8px 12px;gap:5px}.quick-actions[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap;justify-content:center;gap:10px}.quick-action-btn[_ngcontent-%COMP%]{padding:8px 12px;font-size:.9rem}.vehicle-details-section[_ngcontent-%COMP%]{width:100%;margin-top:20px}.content-area[_ngcontent-%COMP%]{padding:20px}.content-area[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:30px}.vehicle-list[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px}.vehicle-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem}}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{flex-direction:column;padding:15px;gap:15px}.sidebar-section[_ngcontent-%COMP%]{width:100%;text-align:center}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .quick-actions[_ngcontent-%COMP%]{flex-direction:column;gap:8px;align-items:center}.vehicle-list[_ngcontent-%COMP%]{grid-template-columns:1fr}.vehicle-card[_ngcontent-%COMP%]   .vehicle-price[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#28a745;margin-top:10px}}"]})};export{$ as DashboardComponent};
